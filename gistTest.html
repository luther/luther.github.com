<!DOCTYPE html>
<html>
	<head>
		<title>Experimentation with gist</title>
	</head>
	<body>
		<pre id="headers"></pre>
		<pre id="rtype"></pre>
		<pre id="content"></pre>
		<pre id="rtext"></pre>
		<script type="text/javascript">
			var r = new XMLHttpRequest();
			r.onreadystatechange = function() {
				document.getElementById("content").innerHTML = r.readyState;
				if (r.readyState == 2) {
					document.getElementById("headers").innerHTML = r.getAllResponseHeaders();
				}
				if (r.readyState == 4) {
					document.getElementById("rtype").innerHTML = r.responseType;
					document.getElementById("content").innerHTML = r.response;
					document.getElementById("rtext").innerHTML = r.responseText;
				}
			}
			r.open("POST", "https://api.github.com/gists");
			r.send('{ "public":true, "files":{"example1": { "content":"A test to try out CORS creation of gists" } } }');
		</script>
	</body>	
</html>